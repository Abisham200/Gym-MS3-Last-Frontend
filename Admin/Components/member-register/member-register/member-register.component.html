<div class="register-container">
  <h2>Member Registration</h2>
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <!-- Personal Details Section -->
    <h3>Personal Details</h3>
    <div class="form-row">
      <div class="form-section">
        <label for="firstName">First Name <span class="required">*</span></label>
        <input id="firstName" type="text" formControlName="firstName" />
        <div class="alert" *ngIf="isFieldInvalid('firstName')">
          <small *ngIf="registerForm.get('firstName')?.errors?.['required']">First Name is required.</small>
          <small *ngIf="registerForm.get('firstName')?.errors?.['minlength']">Must be at least 4 characters
            long.</small>
        </div>
      </div>
      <div class="form-section">
        <label for="lastName">Last Name <span class="required">*</span></label>
        <input id="lastName" type="text" formControlName="lastName" />
        <div class="alert" *ngIf="isFieldInvalid('lastName')">
          <small *ngIf="registerForm.get('lastName')?.errors?.['required']">Last Name is required.</small>
          <small *ngIf="registerForm.get('lastName')?.errors?.['minlength']">Must be at least 4 characters long.</small>
        </div>
      </div>
    </div>

    <div class="form-row">
      <div class="form-section">
        <label for="email">Email <span class="required">*</span></label>
        <input id="email" type="email" formControlName="email" />
        <div class="alert" *ngIf="isFieldInvalid('email')">
          <small *ngIf="registerForm.get('email')?.errors?.['required']">Email is required.</small>
          <small *ngIf="registerForm.get('email')?.errors?.['email']">Invalid email format.</small>
        </div>
      </div>
      <div class="form-section">
        <label for="phoneNumber">Phone Number <span class="required">*</span></label>
        <input id="phoneNumber" type="text" formControlName="contactNumber" />
        <div class="alert" *ngIf="isFieldInvalid('phoneNumber')">
          <small *ngIf="registerForm.get('contactNumber')?.errors?.['required']">Phone number is required.</small>
          <small *ngIf="registerForm.get('contactNumber')?.errors?.['pattern']">Must be 10 digits.</small>
        </div>
      </div>
    </div>

    <div class="form-row">
      <div class="form-section">
        <label for="password">Password <span class="required">*</span></label>
        <input id="password" type="password" formControlName="password" />
        <div class="alert" *ngIf="isFieldInvalid('password')">
          <small *ngIf="registerForm.get('password')?.errors?.['required']">Password is required.</small>
          <small *ngIf="registerForm.get('password')?.errors?.['minlength']">Must be at least 6 characters long.</small>
          <small *ngIf="registerForm.get('password')?.errors?.['pattern']">Must contain a number, an uppercase letter,
            and a special character.</small>
        </div>
      </div>
      <div class="form-section">
        <label for="confirmPassword">Confirm Password <span class="required">*</span></label>
        <input id="confirmPassword" type="password" formControlName="confirmPassword" />
        <div class="alert" *ngIf="isFieldInvalid('confirmPassword')">
          <small *ngIf="registerForm.get('confirmPassword')?.errors?.['required']">Confirmation is required.</small>
          <small *ngIf="registerForm.hasError('passwordMismatch')">Passwords do not match.</small>
        </div>
      </div>
    </div>

    <!-- Additional Details Section -->
    <h3>Additional Details</h3>
    <div class="form-row">
      <div class="form-section">
        <label for="nic">NIC <span class="required">*</span></label>
        <input id="nic" type="text" formControlName="nic" />
        <div class="alert" *ngIf="isFieldInvalid('nic')">
          <small *ngIf="registerForm.get('nic')?.errors?.['required']">NIC is required.</small>
        </div>
      </div>
      <div class="form-section">
        <label for="age">Age <span class="required">*</span></label>
        <input id="age" type="number" formControlName="age" />
        <div class="alert" *ngIf="isFieldInvalid('age')">
          <small *ngIf="registerForm.get('age')?.errors?.['required']">Age is required.</small>
        </div>
      </div>

      <div class="form-section">
        <label for="height">Height <span class="required">*</span></label>
        <input id="height" type="number" formControlName="height" />
        <div class="alert" *ngIf="isFieldInvalid('height')">
          <small *ngIf="registerForm.get('height')?.errors?.['required']">Height is required.</small>
        </div>
      </div>
      <div class="form-section">
        <label for="weight">Weight <span class="required">*</span></label>
        <input id="weight" type="number" formControlName="weight" />
        <div class="alert" *ngIf="isFieldInvalid('weight')">
          <small *ngIf="registerForm.get('weight')?.errors?.['required']">Weight is required.</small>
        </div>
      </div>

    </div>



    <div class="form-row">
      <div class="form-section">
        <label for="gender">Gender</label>
        <select id="gender" formControlName="gender">
          <option value="" disabled>Select Gender</option>
          <option value="0">Male</option>
          <option value="1">Female</option>
          <option value="2">Other</option>
        </select>
      </div>
      <div class="form-section"> 
        <label for="role">User Role</label>
        <select id="role" formControlName="role">
          <option value="" disabled>Select Role</option>
          <option value="1">Admin</option>
          <option value="0">Member</option>
        </select> 
      </div>
    </div>

    <div class="form-row">
      <div class="form-section">
        <label for="profileImage">Profile Image</label>
        <input id="profileImage" type="file" (change)="onFileSelect($event)" />
      </div>
      <div class="form-section">
        <label for="address">Address</label>
        <textarea id="address" formControlName="address" rows="3"></textarea>
      </div>
    </div>

    <!-- Submit Button -->
    <div class="form-row full-width">
      <button  type="submit" [disabled]="!registerForm.valid"  routerLinkActive="router-link-active" >Register</button>
    </div>
  </form>
</div>